[dev-packages]
flake8-bugbear = "*"
# FIXME: The Pydantic plugin is incompatible with Mypy 0.750
#        https://github.com/samuelcolvin/pydantic/issues/1057
mypy = ">=0.720,<0.750"
pytest = "*"
pytest-cov = "*"
pytest-flake8 = "*"
pytest-mypy = ">=0.3.3"
sphinx = "*"
# FIXME: Use master for now, for a few fixes:
#        https://github.com/dropbox/sqlalchemy-stubs/pull/80
sqlalchemy-stubs = {git = "https://github.com/dropbox/sqlalchemy-stubs.git",ref = "master"}

[packages]
psycopg2 = "*"
pydantic = ">= 1.1"
pygobject = "*"
redis = "*"
sqlalchemy = "*"
toml = "*"

[scripts]
azafea = "python -m azafea"
doc = "make -C docs html"
lint = "py.test --flake8 --mypy -m 'flake8 or mypy'"
test = "py.test --cov=azafea --cov-fail-under=86 --no-cov-on-fail -m 'not integration'"
test-all = "py.test --cov=azafea --cov-fail-under=99 --no-cov-on-fail"
